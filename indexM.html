<!DOCTYPE HTML>
<html>
    <head>
		<title>CPW Atlas</title>
		<meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
  	<meta http-equiv="cache-control" content="max-age=0" />
  	<meta http-equiv="expires" content="0" />
  	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  	<meta http-equiv="pragma" content="no-cache" />
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<!--meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/-->
		<!-- Safari iOS apps only -->
		<!-- Sets whether a web application runs in full-screen mode when the user has added it to their home screen -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<!-- black-translucent the clock and battery overlay -->
		<!-- Chrome for Android runs in full scrren mode when added to home screen -->
		<meta name="mobile-web-app-capable" content="yes">
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<!-- icon in browser tab -->
		<link rel="shortcut icon" href="assets/images/favicon.png"/>
		<link rel="icon" type="image/png" href="assets/images/favicon.png"/>
		<link rel="apple-touch-icon" href="assets/images/cpwseal.png"/>
		<link rel="apple-touch-icon" href="assets/images/cpwlogo_48x48.png" sizes="57x57"/>
		<link rel="apple-touch-icon" href="assets/images/cpwseal.png" sizes="114x114"/>
		<link rel="apple-touch-startup-image" href="assets/images/cpwseal.png" sizes="114x114"/> <!-- supposed to show the icon on startup, but does nothing! -->
		<link rel="apple-touch-startup-image" href="assets/images/cpwseal.png" sizes="320x460" media="(max-device-width: 480px) and not (-webkit-min-device-pixel-ratio: 2)" />
		<link rel="apple-touch-startup-image" href="assets/images/cpwseal.png" sizes="640x920" media="(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)" />
		<link rel="apple-touch-startup-image" href="assets/images/cpwseal.png" sizes="768x1004" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)" />
		<link rel="apple-touch-startup-image" href="assets/images/cpwseal.png" sizes="1024x748" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)" />
		<!-- Point search engines to main site. Don't index url parameters -->
		<link rel="canonical" href="https://ndismaps.nrel.colostate.edu/">
		

		<!-- CSS files -->
		<!-- *** Keep ArcGIS API version up to date here *** -->
		<!-- When update esri version download css files also, copy and paste code into Notepad. Put in directory matching the version. -->
        <!-- In esri.css, search and replace url(" with url("https://js.arcgis.com/3.33/esri/dijit/ -->
        <!-- In soria.css, search and replace url(" with url("https://js.arcgis.com/3.33/dijit/themes/soria/ -->
				<!-- In image.css, search and replace url(" with url("https://js.arcgis.com/3.33compact/dojox/image/resources/ -->
				<!-- See readme.txt -->
        <!-- Because of an error on mobile, When update ESRI version, download css files also. Put in directory matching the version. -->
        <!-- This is due the error: Uncaught DOMException: Failed to read the 'cssRules' property from 'CSSStyleSheet': Cannot access rules.-->
		<link rel="stylesheet" type="text/css" href="assets/css/3.33/iphone.css?v=3.33" />
		<!--Download from: https://js.arcgis.com/3.33compact/dojox/mobile/themes/iphone/iphone.css"/-->
		<link rel="stylesheet" type="text/css" href="assets/css/3.33/esri.css?v=3.33" />
		<!--Download from: https://js.arcgis.com/3.33/esri/css/esri.css" /-->
		<link rel="stylesheet" type="text/css" href="assets/css/3.33/image.css?v=3.33" />
		<!--Download from: https://js.arcgis.com/3.33compact/dojox/image/resources/image.css"-->  
		
		<!-- Available themes: claro, tundra, soria, and nihilo.-->
		<!-- Feature Search combo box styles -->
		<link rel="stylesheet" type="text/css" href="assets/css/3.33/soria.css?v=3.33" />
		<!--Download from: https://js.arcgis.com/3.33/dijit/themes/soria/soria.css"/-->
																								   		
		<!--link rel="stylesheet" type="text/css" href="assets/css/layoutM.css?v=3.20b" /-->
		<link rel="stylesheet" type="text/css" href="javascriptM/toc/build/agsjs/css/agsjs.css?v=3.20" />
		
		<script type="text/javascript">
		// agsjs is for legend/layerlist
		// dojo-firebug and dojo-debug-messages = true is for debugging-->
		// VERSION add next line to dojoConfig to update version.
		// cacheBust: "v=3.17",
		var dojoConfig = {
      // aync: when set to true, document.body did not exist in readConfig
			// FOR DEBUGGING
			//cacheBust: Date.now(),
			//packages: [
			//	{ name: "javascript", location: location.pathname.replace(/\/[^/]+$/, "")+ "/javascriptM/src" },
			//	{ name: "agsjs", location: location.pathname.replace(/\/[^/]+$/, "")+ "/javascriptM/toc/build/agsjs" },
			//	{ name: "jsPDF", location: location.pathname.replace(/\/[^/]+$/, "")+ "/jsPDF" }
			//],
			//has: {
			//	"dojo-debug-messages": true
			//}
			// Version for Bookmarks, HelpWin, graphicFuncs
			cacheBust: "v="+ Date.now(),
			async:false,
			packages: [
				{ name: "javascript",location: location.pathname.replace(/\/[^/]+$/, "")+ "/javascriptM/src" },
				{ name: "agsjs",location: location.pathname.replace(/\/[^/]+$/, "")+ "/javascriptM/toc/src/agsjs" },
				{ name: "jsPDF",location: location.pathname.replace(/\/[^/]+$/, "")+ "/jsPDF" }
			],
			has: {
				"dojo-debug-messages": false
			}
		};
		</script>
		<!-- Load our javascript. If last parameter is true it will load asyncronously. Else the script is fetched and executed immediately. -->
		<script src="https://js.arcgis.com/3.40compact"></script>
		<!-- Load external javascript files here. -->
        <!--script>
		<script type="text/javascript" src="javascriptM/geo.js?v=3.20"></script>
		<script type="text/javascript" src="javascriptM/disclaimer.js?v=3.20a"></script>
		<script type="text/javascript" src="javascriptM/errorBox.js?v=3.21"></script>
		<script type="text/javascript" src="javascriptM/xmlUtils.js?v=3.11"></script>
		<script type="text/javascript" src="javascriptM/findPlace.js?v=3.19"></script>
		<script type="text/javascript" src="javascriptM/identify.js?v=3.20a"></script>
		<script type="text/javascript" src="javascriptM/print.js?v=3.21a"></script>
		<script type="text/javascript" src="javascriptM/readConfig.js?v=3.21"></script>
		<script type="text/javascript" src="javascriptM/search.js?v=3.20"></script>
		<script type="text/javascript" src="javascriptM/swipe.js?v=3.11"></script>
		<script type="text/javascript" src="javascriptM/utilFuncs.js?v=3.20a"></script>
		<script type="text/javascript" src="javascriptM/wayPoints.js?v=3.18"></script-->
		<script>
			/* For DEBUGGING */
			///*
			var jsVer=Date.now();
			var path="javascriptM/src";
			document.write('<link rel="stylesheet" href="assets/css/layoutM.css?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/geo.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/disclaimer.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/errorBox.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/xmlUtils.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/findPlace.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/identify.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/print.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/readConfig.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/search.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/swipe.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/utilFuncs.js?v='+jsVer+'"><\/script>');
			document.write('<script type="text/javascript" src="'+path+'/wayPoints.js?v='+jsVer+'"><\/script>');
			//*/
		</script>
		<!--script type="text/javascript" src="javascriptM/hb1298.js?v=3.1"></script-->
		<script type="text/javascript" src="jsPDF/dist/jspdf.debug.js?v=3.2"></script> <!-- Used by resourceReport.js and hb1298.js. This file is needed for saveAs funciton to save to disk -->
		<!--script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCnamSJ8X7vZxYVby_V52kuveWx1jXx2SQ"></script><!-- for google maps elevation data. Used by Identify -->
		<!--script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script--> <!-- for google maps elevation data. Used by Identify -->
		<script>
			// Globals
			var ndisVer=Date.now(); // for xml files
			var queryObj;
			var map, mapLayers=[], legendLayers=[];
			var previewMap; // print preview map
			var initExtent, wkid, fullExtent;
			var geometryService,geometryService2;
			var myFindService;
			var printGeoServiceUrl; // set in readConfig.js from printservice tag in config.xml
			// for printing
			var hideGroupSublayers = "",radioLayers = "";
			// Initialize Widgets when clicked on in the menu
			var searchFlag=false,geoFlag=false,tocFlag=false,basemapFlag=false,ptsFlag=false,hb1298Flag=false,wayPtFlag=false;
			var gmu = "Big Game GMU";
			// for multiple httprequests. Used in identify.js and resourceReport.js
			var index;
			var XMLHttpRequestObjects= []; // holds database call object
			var dragging=false;
			var drawing=false;
			var measuring=false;
			var infoWindowPopup;
			var linkPopup;
			var app;
			var settings;
			var mapBasemap="streets";
			// get app name
			if (document.location.search == "") app = "HuntingAtlas";
                else {
                    var end = document.location.search.indexOf('&');
                    if (end == -1) end = document.location.search.length;
                    app = document.location.search.substring(5, end);
                }
				regexp=/([^a-zA-Z])/g; // only allow letters in the app name
				if (regexp.test(app)) alert("Illegal characters were removed from the application name. Only letters allowed.","Warning");
				app = app.replace(regexp,""); // clean it
			// Calculate the widest width on the mobile device
			//var maxPhoneSize = window.innerHeight || document.body.clientHeight;
			//var phoneWidth = window.innerWidth || document.body.clientWidth;
			//if (maxPhoneSize < phoneWidth) maxPhoneSize = phoneWidth;
            require([
			"dojox/mobile/parser",
			"esri/config",
			"dojo/io-query",
			"dojox/mobile",
			"dojox/mobile/Button",
			"dojox/mobile/CheckBox",
			"dijit/form/Select",
			"dojox/mobile/compat",
			"dojox/mobile/ContentPane",
			"dojox/mobile/SimpleDialog",
			"dojox/mobile/Heading",
			"dojox/mobile/Overlay",
			"dojox/mobile/Switch",
			"dojox/mobile/EdgeToEdgeList",
			"dojox/mobile/ListItem",
			"dojox/mobile/ToolBarButton",
			"dijit/registry",
			"dojo/domReady!"
			],
			function(parser,esriConfig,ioquery) {
// for ndis-2020-dev until we get secure setup
				// If not loaded as secure redirect to secure url
				if (window.location.href.indexOf("https")<0) {
					var str = window.location.href;
					window.location = "https"+str.substring(4);
				}
				parser.parse();
				esriConfig.defaults.io.proxyUrl = "/proxy/DotNet/proxy.ashx";
				esriConfig.defaults.io.alwaysUseProxy = false;
				document.dojoClick = false; // fix Android graphics layer not recognizing click
				esri.config.defaults.io.timeout = 540000; // increase timeout for printing from 60 seconds (60,000) to 9 minutes

				// Protect against XSS attacks
				// preserve new lines in way point definitions
				var location = document.location.search.replace(/\%0D/g,"newline");
				queryObj = ioquery.queryToObject(location.substr((location[0] === "?" ? 1 : 0)));
				
				// Sanitize user input. Protect against XSS attacks.
				// test for XSS attack. Pattern contains allowed characters. [^ ] means match any character that is not
				// in the is set. \ escapes characters used by regex like .-'"|\
				var regexp;
				// For labels allow ' " for degrees minutes seconds
				// Points
				if (queryObj.point){
					queryObj.point = queryObj.point.replace(/~/g, " "); // for email from mobile app
					regexp=/([^a-zA-Z0-9 °\-\'\"\|;,\.!_\*()\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.point)) alert("Illegal characters were removed from way point labels.","Warning");
					regexp=/([^a-zA-Z0-9 °\-\'\"\|;,\.!_\*()])/g;
					queryObj.point=queryObj.point.replace(regexp,""); // clean it
					queryObj.point = queryObj.point.replace(/newline/g,"\n"); // preserve new line characters
				}
				// Lines
				if (queryObj.line){
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.line)) alert("Illegal characters were removed from the line labels.","Warning");
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()])/g;
					queryObj.line=queryObj.line.replace(regexp,""); // clean it
				}

				// Polygons
				if (queryObj.poly){
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.poly)) alert("Illegal characters were removed from the shape (polygon) labels.","Warning");
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()])/g;
					queryObj.poly=queryObj.poly.replace(regexp,""); // clean it
				}

				// Rectangles
				if (queryObj.rect){
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.rect)) alert("Illegal characters were removed from the rectangle labels.","Warning");
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()])/g;
					queryObj.rect=queryObj.rect.replace(regexp,""); // clean it
				}
				
				// Text
				if (queryObj.text){
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.text)) alert("Illegal characters were removed from the point labels.","Warning");
					regexp=/([^a-zA-Z0-9 \-\'\|;,\.!_\*()])/g;
					queryObj.text=queryObj.text.replace(regexp,""); // clean it
				}

				// Layer
				if (queryObj.layer){
					queryObj.layer = queryObj.layer.replace(/~/g, " "); // for email from mobile app
					regexp=/([^a-zA-Z0-9 \-\|,\._()])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.layer)) alert("Illegal characters were found on the URL. Layers may not load properly.","Warning");
					//regexp=/([^a-zA-Z0-9 \-,\._()])/g; // Used if testing for \\ above
					queryObj.layer=queryObj.layer.replace(regexp,""); // clean it
				}

				// keyword
				if (queryObj.keyword){
					regexp=/([^a-zA-Z0-9 \-\._()])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.keyword)) alert("Illegal characters were found on the URL. Location may not load properly.","Warning");
					//regexp=/([^a-zA-Z0-9 \-\._()])/g; // Used if testing for \\ above
					queryObj.keyword=queryObj.keyword.replace(regexp,""); // clean it
				}

				// value
				if (queryObj.value){
					regexp=/([^a-zA-Z0-9 \-\',\.!_\*()#/&\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.value)) alert("Illegal characters were found on the URL. Location may not load properly.","Warning");
					regexp=/([^a-zA-Z0-9 \-\',\.!_\*()#/&])/g;
					queryObj.value=queryObj.value.replace(regexp,""); // clean it
					// 8-18-20 single quote is used in the SQL expression, replace it with '' and it will be used as '.
					var quote = /'/g;
					queryObj.value = queryObj.value.replace(quote,"''");
				}

				// label
				if (queryObj.label){
					regexp=/([^a-zA-Z0-9 \-\',\.!_\*()#/&\\])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.label)) alert("Illegal characters were found on the URL. Point labels may not load properly.","Warning");
					regexp=/([^a-zA-Z0-9 \-\',\.!_\*()#/&])/g;
					queryObj.label=queryObj.label.replace(regexp,""); // clean it
				}

				// map
				if (queryObj.map){
					regexp=/([^a-zA-Z0-9 \-,\._():\/])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.map)) alert("Illegal characters were found on the URL. Map may not load properly.","Warning");
					//regexp=/([^a-zA-Z0-9 \-\=,\._():\/])/g; // Used if testing for \\ above
					queryObj.map=queryObj.map.replace(regexp,""); // clean it
				}

				// field
				if (queryObj.field){
					regexp=/([^a-zA-Z0-9 \-_])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.field)) alert("Illegal characters were found on the URL. Map may not load properly.","Warning");
					//regexp=/([^a-zA-Z0-9 \-\=,\._():\/])/g; // Used if testing for \\ above
					queryObj.field=queryObj.field.replace(regexp,""); // clean it
				}

				// projection Only allow integers.
				if (queryObj.prj && isNaN(queryObj.prj)) {
					queryObj.prj = 102100;
					alert("Problem reading map projection from the URL, defaulting to WGS84.","Warning");
				}

				// Extent
				if (queryObj.extent){
					regexp=/([^0-9 \-,\.])/g; // allow \ for the test (\' \") but remove it for the clean
					if (regexp.test(queryObj.extent)) alert("Illegal characters were found on the URL. Map extent may not load properly.","Warning");
					queryObj.extent=queryObj.extent.replace(regexp,""); // clean it
				}

				// Place
				if (queryObj.place){
					regexp=/([^a-zA-Z0-9 \-\',\.!_\*():#/&\\])/g; // allow \ for the test (\' \") but remove it for the clean, : used in degree, min, sec point
					if (regexp.test(queryObj.place)) alert("Illegal characters were found on the URL. Location may not load properly.","Warning");
					regexp=/([^a-zA-Z0-9 \-\',\.!_\*():#/&])/g;
					queryObj.place=queryObj.place.replace(regexp,""); // clean it
				}
					
				// scroll up after keyboard is closed to keep page from scrolling off of the screen and losing the header bar!
				document.addEventListener('focusout', function(e) {window.scrollTop=0});
				//document.addEventListener('focusout', function(e) {window.scrollTo(0, 0)}); //scrollTo has issues in the android app
				// in javascriptM/readConfig.js
				createMap();

				// Initialize menu swipe left
				swipedetect(document.getElementById("swipeleft"),function(){
					closeMenu();
				});
			});
		//onorientationchange doesn't always fire in a timely manner in Android so check for both orientationchange and resize
		var supportsOrientationChange = "onorientationchange" in window, orientationEvent = supportsOrientationChange ? "orientationchange" : "resize";
		window.addEventListener(orientationEvent, function() {
			orientationChanged();
		}, false);

		function orientationChanged() {
			if (map) {
				map.reposition();
				map.resize();
			}
		}
		
		// Initialize Basemaps& open dialog
		function openBasemaps(){
			// readConfig.js also call initBasemaps when load basemap from URL
			// _loadBookmarks in Bookmark.js also calls initBasemaps
			if (!basemapFlag){
				initBasemaps();
				basemapFlag=true;
			}
			slideRight(document.getElementById("basemapPane"));
			//document.getElementById("basemapPane").style.display="block";
		}
		
		// Initialize TOC & open dialog
		function openTOC(){
			// show toc window
			slideRight(document.getElementById("tocPane"));
		}
		
		// Initialize Feature Search & open dialog
		function openSearch(){
			if (!searchFlag){
				searchInit();
				searchFlag=true;
			}
			slideRight(document.getElementById("searchPane"));
			//document.getElementById("searchPane").style.display="block";
		}
		
		// Initialize Way Points & open dialog
		function openWayPts(){
			if (!wayPtFlag){
				wayPointInit();
				wayPtFlag = true;
			}
			slideRight(document.getElementById("wayPtsPane"));
			//document.getElementById("wayPtsPane").style.display="block";
		}
		// Initialize Location
		function openLocation() {
			//if (!geoFlag){
			init_geo();
			//	geoFlag=true;
			//}
			//slideRight(document.getElementById("locationPane"));
			//document.getElementById("locationPane").style.display="block";
		}
		
		function hideDisclaimer(event){
			event.stopImmediatePropagation();
			require(['dijit/registry'],function(registry){
				registry.byId('disclaimerDialog').hide();
			});
		}
		function hidePrintDialog(event) {
			event.stopImmediatePropagation();
			require(['dijit/registry'], function(registry) {
				registry.byId('printDiv').hide();
				setTimeout(function(){
					drawing=false; // don't show infowindow on close dialog
				},1000);
			});
		}
		function showHideHelp(event){
			event.stopImmediatePropagation();
			document.getElementById("printScroll").scrollTop = 0;
			if (document.getElementById("print_help").style.display == "none")
				document.getElementById("print_help").style.display = "block";
			else
				document.getElementById("print_help").style.display = "none";
		}
		
		// Initialize Bookmark
		//function openBookmark(){
		//	slideRight(document.getElementById("bookmarkPane"));
		//document.getElementById("bookmarkPane").style.display="block";
		//}

		// Initialize HB1298
		function openHB1298(){
			slideRight(document.getElementById("hb1298Pane"));
			if (!hb1298Flag) {
				HB1298init();
				hb1298Flag = true;
			}
			//document.getElementById("hb1298Pane").style.display="block";
		}
		
		function openLinks(){
			// add link to email current map
			require(["javascript/graphicFuncs","dojo/dom-construct"],function(graphicFuncs,domConstruct) {
				var theLink;
				//var singleQuote = /'/g;
				//var doubleQuote = /"/g;
				var url = encodeURIComponent(graphicFuncs.getMapLink()).replace(/%20/g,"~").replace(/%0D/g,"%0D%0A"); // replace spaces with tildas
				if (url.length > 1024)
					theLink = "NOTE: This map link is very long so it may not be able to display all of the way points. Here is the map link:%0D%0A%0D%0A"+url;
				else
					theLink = url;
				var emailLink=domConstruct.create("span", {
					id: "emaillink",
					innerHTML: '<p class="link"><a href="mailto:?subject=Link to '+app+' map&body=' +
					'Here is a link to the Colorado Parks and Wildlife '+app+' with my custom view and way points.%0D%0A%0D%0A' +
					theLink +'"><img src="assets/images/i_mail.png"/>Email link to map</a></p>'
				});
				domConstruct.place(emailLink,"emaillink","replace");
			});

			slideRight(document.getElementById("linksPane"));
			//document.getElementById("linksPane").style.display="block";
		}
		
		function openMenu() {
			//document.getElementById("menuView").style.left=0;
			//document.getElementById("menuView").style.display="block";
			// Clear Title & Description
			document.getElementById("wayPtInputTitle").value = "";
			document.getElementById("wayPtInputDesc").value = "";
			slideRight(document.getElementById("menuView"));
			document.getElementById('swipeleft').style.display='block';
		}

		function closeMenu() {
			//document.getElementById("menuView").style.display="none";
			slideLeft(document.getElementById("menuView"));
			document.getElementById('swipeleft').style.display='none';
		}

		function slideRight(node){
			node.style.left = "-9000px"; // make sure it is offscreen before we show it
			node.style.display = "block";
			//var nodeStyle=window.getComputedStyle(node);
			//var i = -1*(parseInt(nodeStyle.width)-10);
			var i = -1*(node.offsetWidth-10);
			node.style.left = i +"px";
			var delay=15,
				inc = 10;
			var t1 = setInterval(function(){
				i += inc;
				if (i>=0) {
					node.style.left = "0px";
					clearTimeout(t1);
				}
				else node.style.left = i +"px";
			}, delay);
		}

		function slideLeft(node){
			//var nodeStyle=window.getComputedStyle(node);
			//var amt = -1*(parseInt(nodeStyle.width)+10);
			var amt = -1*(node.offsetWidth+10);
			var i = 0;
			var delay=15, inc=10;
			var t1 = setInterval(function(){
				i -= inc;
				node.style.left = i +"px";
				if (i<=amt) {
					clearTimeout(t1);
					node.style.left = "-9000px"; // Move it way offscreen. Rotating phone was causing it to partially overlap menu.
				}
			}, delay);
		}
	</script>
</head>

<body class="soria">
<noscript>You must have javascript enabled to run this site. Here are the <a href="https://www.enable-javascript.com/" target="_blank">
 instructions how to enable JavaScript in your web browser</a>.</noscript>
	<!-- Map -->
	<div id="mapView">
		<h1 id="webmapTitle" data-dojo-type="dojox/mobile/Heading">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/menu.png"' style="float:left;" onclick="openMenu();"></span>
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"mblDomButtonWhiteSearch"' style="float:right;" onclick="document.getElementById('findPlace').style.display='block'"></span>
		</h1>
		<div class="mapcontent">
			<img id="loading" alt="loading icon" src="assets/images/loading.gif" style="top:50%;position:absolute; right:50%; z-index:100;display:block;" />
			<div id="mapDiv">
				<div id="LocateButton"></div>
				<div id="printBtn" onclick="javascript:printShow()" alt="download geo pdf of the current map"></div>
			</div>
		</div>

		<!-- Footer -->
		<!--h1 id="footer" data-dojo-type="dojox/mobile/Heading" style="position:absolute;bottom:0;display:none;">Application Footer Bar</h1-->
	</div>
	
	<!-- Disclaimer -->
	<div data-dojo-type="dojox/mobile/SimpleDialog" id="disclaimerDialog" class="discContainer" style="display:none;">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Disclaimer"' style="border-radius:5px;background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" style="float:right;" onclick="hideDisclaimer">Agree</span>
		</h1>
		<div class="discContent mblSimpleDialogText">
			<div id="disclaimerContent"></div>
			<p>NOTE: The browser back button is not recommended for this site.</p>
			<p><label><input id="showDisclaimer" type="checkbox" class="checkBoxButton" onClick="setCookie('noDisclaimer','1')" />
			  Do not show again. (This is stored in a cookie in your browser history.)</label>
			</p>
			<p align="center">
				<button data-dojo-type="dojox/mobile/Button" type="button" onclick="require(['dijit/registry'],function(registry){registry.byId('disclaimerDialog').hide(); drawing=false;});">Agree</button>
				<button data-dojo-type="dojox/mobile/Button" type="button" onclick="loadPage('https://cpw.state.co.us/'); drawing=false;">Disagree</button>
			</p>
		</div>
	</div>

	<!-- Menu -->
	<!-- Adjust height of menu in assets/css/layerM.css -->
	<div id="swipeleft" style="position:absolute;top:0;left:0;width:100%;height:100%;background-color: rgba(50,50,50,.5);display:none;z-index:41;"></div>
	<div id="menuView">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Menu"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="closeMenu()"></span>
		</h1>
		<div class="menuPane">
			<!-- Layers/Legend Menu -->
			<h3 data-dojo-type="dojox/mobile/RoundRectCategory" style="text-align:center;margin:10px 0 10px 0;"> Map Layers &amp; Legend</h3>
			<ul data-dojo-type="dojox/mobile/EdgeToEdgeList">
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/Legend32.png"'><a class="mblAccordionTitleAnchor" href="javascript:openTOC()">Layers &amp; Legend</a></li>
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/i_layers.png"'><a class="mblAccordionTitleAnchor" href="javascript:openBasemaps()">Basemaps</a></li>
			</ul>

			<!-- Tools Menu -->
			<h3 data-dojo-type="dojox/mobile/RoundRectCategory" style="text-align:center;margin:10px 0 10px 0;">Tools</h3>
			<ul id="toolsMenu" data-dojo-type="dojox/mobile/EdgeToEdgeList">
				<!--li id="showHB1298" style="display:none" data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/i_bookmark3.png"'><a class="mblAccordionTitleAnchor" href="javascript:openHB1298()">HB1298 Report</a></li>
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/i_search.png"'>
					<a class="mblAccordionTitleAnchor" href="javascript:openSearch()">Feature Search</a>
					<span id="searchRemoveBtn" style="visibility:hidden" class="measureClear">Clear</span>
				</li>
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/ptmedblue.png"'><a class="mblAccordionTitleAnchor" href="javascript:openWayPts()">Way Points</a></li>
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/i_measure.png"'>
					<span id="lengthBtn" class="mblAccordionTitleAnchor">Measure</span>
					<span id="removeLengthBtn" style="visibility:hidden" class="measureClear">Clear</span>
				</li>
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/i_bookmark.png"'><a class="mblAccordionTitleAnchor" href="javascript:openBookmark()">Bookmark</a></li>
				<li id="showLocation" data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/bluedot.png", rightText:"Off"'><a class="mblAccordionTitleAnchor" href="javascript:openLocation()">Location</a></li>
				<li data-dojo-type="dojox/mobile/ListItem" data-dojo-props='icon:"assets/images/i_link.png"'><a class="mblAccordionTitleAnchor" href="javascript:openLinks()">Links</a></li-->
			</ul>
		</div>
	</div>

	<!-- Find a Place -->
	<div id="findPlace">
		<h1 data-dojo-type="dojox.mobile.Heading">
			<span class="findPlaceBtn" onclick="gotoLocation()"></span>
			<input id="findCombo"/>
			<span id="findClear" class="findBtnClear" title="Remove last highlight/push pin from map" onclick="removeSearchItem()">Clear</span>
			<span id="findClose" data-dojo-type="dojox/mobile/ToolBarButton" style="float:right;">X</span>
		</h1>
	</div>

	<!-- Print Dialog -->
	<div id="printDiv" data-dojo-type="dojox/mobile/SimpleDialog" data-dojo-id="printDialog" class="discContainer" style="display:none;width: calc(100% - 15px);position:fixed;top:0!important;left:0!important;overflow:hidden;height:calc(100% - 40px);">
			<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top",fixed:"left", label:"Download Geo PDF"' style="border-radius:5px;background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
				<span data-dojo-type="dojox/mobile/ToolBarButton" style="float:right;" onclick="hidePrintDialog">X</span>
				<span data-dojo-type="dojox/mobile/ToolBarButton" style="float:right;" onclick="showHideHelp">?</span>
			</h1>
			<div id="printScroll" style="height:calc(100% - 60px);width:100%;overflow-y: auto;">
				<br/><br/>	
				<div align="center">
							<a id="print_link" href="" target="map" class="mblButton" style="margin:0;display:none;width:120px;text-decoration: none;">Download PDF</a>
							<span id="printMB" style="display:none;margin-top: 20px"></span>
							<span id="printInst"style="display:none;">
									Creating PDF<br/><br/>
									<div id="progress" style="display: inline-block"><div id="printBar"></div></div> <span id="perDone" style="position: relative;top:-5px">0%</span><br/>
									<span id="aproxMin">Note that large maps take longer to generate.</span>
							</span>
					</div>
					<div id="print_instr" style="padding-left:10px;text-align: left;">Creates a geospatial PDF for downloading. Uses
							the existing map boundary.
							<div id="print_help" style="display:none;">
								<h3>Download Help:</h3>
								<ul>
									<li><span style="text-decoration: underline;">Map Scale:</span> Level of detail. Changing the Map Scale will adjust the Map Area
										as necessary to keep the current map boundary.</li>
									<li><span style="text-decoration: underline;">Map Area:</span> Affects file size. This will change the map boundary.
									Larger map areas take more time to generate, but allow for finer detail over larger areas.</li>
									<li><span style="text-decoration: underline;">Map Preview:</span> Show what the PDF will look like. This may take a while to generate.</li>
								</ul>
							</div>
					</div><br/>
					<form>
							<label id='mapscale' for="mapscaleList" style="color:#FFF;">Map Scale 1:</label> 
							<select id="mapscaleList" data-dojo-type="dijit/form/Select"
										onchange="setPreviewMapScale(this);" style="color: #333;">
										<option style="text-align:right" value="9244649">9M</option>
										<option style="text-align:right" value="4622324">4M</option>
										<option style="text-align:right" value="2311162">2M</option>
										<option style="text-align:right" value="1155581">1M</option>
										<option style="text-align:right" value="577791">500k</option>
										<option style="text-align:right" value="288895">250k</option>
										<option style="text-align:right" value="144448">100k</option>
										<option style="text-align:right" value="72224">50k</option>
										<option style="text-align:right" value="36112">24k</option>
										<option style="text-align:right" value="9028">10k</option>
								</select><br/><br/>
							<label id="sizeLabel" for="size" style="padding-left:15px">Map Area:</label> <input id="size" style="color:#333;"/><br/><br/>
							<label id="orientLabel" for="orient">Orientation:</label> <input id="orient" style="color:#333;"/><br/><br/>
													
							<div align="center">
									<!-- Preview Map jpg -->
									<div id="previewCkBx">
											<label><input id="showPreviewMap" type="checkbox" onclick="showPrintPreview();" class="checkBoxButton"/> Generate Map Preview</label><br/><br/>
									</div>
									<div id="printPreview" style="position:relative;display:none;">
											<h3 id="previewTitle" style="margin-top:0;">Map Preview</h3>
											<img id="previewLoading" style="position: absolute; top: 50%; left: calc(50% - 15px); width:30px;height:30px; display: block;" src="assets/images/loading.gif">
											<img id="print_img" style="width:80%;height:auto;"/>
									</div><br/>
									<!-- "download" on an an href tag does not working inside Android App. It does not download anything! So I modified georefPrinting.py to except another parameter -->
									<div id="pdf_name_div">
											<label id="pdf_name_label" for="pdf_name">PDF File Name:</label> <input id="pdf_name" style="color:#333;width:200px;margin:auto;" maxlength="100" type="text" required/>
									</div><br/><br/>
									<p id="printLoadingErr" style="display:none;"><span style="color: #efe02a;border: #efe02a 2px solid;border-radius: 70px;padding: 2px 8px;font-weight: bolder;"">!</span> <span id="printLoadingTxt"></span></p>
									<button id="print_button" data-dojo-type="dojox/mobile/Button" role="presentation" style="margin:0" type="button" onClick="printMap()">Create PDF</button>
									<span id="printMapLink" style="font-weight:bold;font-style:italic;"></span><br/>
							</div><br/><br/><br/><br/>
					</form>
					
					<!-- Hidden Preview Map for generating the map -->
					<div id="printPreviewMap" class="map" data-dojo-type="dojox/mobile/ContentPane" data-dojo-props='region:"center"' dir="ltr" style="display:none;overflow:auto;border:5px solid black;"></div>
			</div>
	</div>

	<!-- TOC -->
	<div id="tocPane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Layers &amp; Legend"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="closeMenu();slideLeft(document.getElementById('tocPane'));"></span>
			<span data-dojo-type="dojox/mobile/ToolBarButton" alt='help button' style='float:right;' data-dojo-props='icon:"assets/images/helpBtn.png"' onclick="tocHelp.show()"></span>
		</h1>
		<div class="scrollContainer">
			<img id="tocLoading" alt="loading icon" src="assets/images/loading.gif" style="top:50%;background-color:white;position:absolute; right:50%; z-index:100;display:none;" />
			<div id="tocDiv" class="scrollContent"></div>
		</div>
	</div>

	<!-- Basemaps -->
	<div id="basemapPane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Basemaps"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="closeMenu();slideLeft(document.getElementById('basemapPane'));"></span>
			<span data-dojo-type="dojox/mobile/ToolBarButton" alt='help button' style='float:right;' data-dojo-props='icon:"assets/images/helpBtn.png"' onclick="basemapHelp.show()"></span>
		</h1>
		<div class="scrollContainer">
			<div data-dojo-type="dojox/mobile/ContentPane" class="scrollContent">
				<!--basemap only works in a content pane -->
				<!-- Bookmarks uses basemapLoading.style.display == none to tell when the basemaps have completed loading. Do not change the style to none! -->
				<img id="basemapLoading" alt="loading icon" src="assets/images/loading.gif" style="top:50vh;background-color:white;position:absolute; right:50%; z-index:100;display:block;" />
				<br/>
				<div id="galleryDiv"></div>
			</div>
		</div>
		<br/><br/>
	</div>

	<!-- HB1298 REPORT -->
	<!--div id="hb1298Pane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"HB1298 Report"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="slideLeft(document.getElementById('hb1298Pane'));"></span>
		</h1>
		<div class="scrollContainer">
			<div id="hb1298_tc"></div>
		</div>
	</div-->
	<!-- Feature Search -->
	<div id="searchPane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Feature Search"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="slideLeft(document.getElementById('searchPane'));"></span>
			<span data-dojo-type="dojox/mobile/ToolBarButton" alt='help button' style='float:right;' data-dojo-props='icon:"assets/images/helpBtn.png"' onclick="searchHelp.show()"></span>
		</h1>
		<div class="scrollContainer">
			<div data-dojo-type="dojox/mobile/ContentPane" class="scrollContent"> <img id="searchLoadingImg" alt="loading icon" src="assets/images/loading.gif" style="margin-top:70px;background-color:white;position:absolute; right:50%; z-index:100;display:none;" />
				<span>Search for a feature type by name.</span><br/><br/>
				<label for="featureType">Feature type: </label><input id="featureType" /><br/><br/>
				<form>
					<div id="searchInput1">
						<label id="searchLabel" for="searchText">Search for: </label><br/><input id="searchText" />
					</div>
					<div id="searchInput2" style="display:none;">
						<label id="townLabel" for="searchTwn" style="float:left">Township: </label><input id="searchTwn" type="number" pattern="[0-9]*" size="4" style="top:-10px;width:40px;position:relative;left:26px;float:left;" />
						<div id="nsSw" class="mblItemSwitch" data-dojo-type="dojox/mobile/Switch" leftLabel="N" rightLabel="S" value="on" style="left:50px;"></div>
						<br/><br/>
						<label id="rangeLabel" for="searchRng" style="float:left">Range: </label><input id="searchRng" type="number" pattern="[0-9]*" size="4" style="top:-10px;width:40px;position:relative;left:50px;float:left;" />
						<div id="ewSw" class="mblItemSwitch" data-dojo-type="dojox/mobile/Switch" leftLabel="W" rightLabel="E" value="on" style="left:70px;"></div>
						<br/><br/>
						<label id="sectionLabel" for="searchSec" style="float:left">Section: </label><input id="searchSec" /><br/>
					</div>
					<p align="center">
						<!--button id="searchBtn" data-dojo-type="dojox/mobile/Button" title="search for selected features" role="presentation">Search</button-->
						<button id="searchBtn" class="mblButton">Search</button>
					</p>
					<br/><!--br/><br/><br/><br/-->
				</form>

				<!-- uncomment results table -->
				<style>.dgrid-cell-padding {padding:15px 3px;}</style>
				<div id="searchMsg" style="display:none;margin-left:10px;">Loading all features, please wait...</div>	
				<div id="searchTools" style="display:none;margin-left:10px;">Features found: <span id="searchFound"></span>
				<img id="searchCloseBtn" title='close table' style="position:absolute;right:20px" src="assets/images/w_collapse_vertical.png" onClick="document.getElementById('searchGrid').style.display='none';document.getElementById('searchCloseBtn').style.display='none';document.getElementById('searchOpenBtn').style.display='inline-block'"/>
				<img id="searchOpenBtn" title='open table' style="position:absolute;right:20px" src="assets/images/w_expand_vertical.png" onClick="document.getElementById('searchGrid').style.display='block';document.getElementById('searchCloseBtn').style.display='inline-block';document.getElementById('searchOpenBtn').style.display='none'" style="display:none"/>
				<img id="searchGridHelp" title='table help' style="position:absolute;right:3px;" src="assets/images/w_help.png" onClick="featureSearchGridHelpDialog.show()"/>
				<br/><br/></div>
			<div id="searchGrid" title="Click on a feature to zoom to it."></div>
				<!--end uncomment results table-->
			</div>
		</div>
	</div>

	<!-- Way Points -->
	<div id="wayPtsPane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Way Points"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="slideLeft(document.getElementById('wayPtsPane'));"></span>
			<span data-dojo-type="dojox/mobile/ToolBarButton" alt='help button' style='float:right;' data-dojo-props='icon:"assets/images/helpBtn.png"' onclick="wayPointHelp.show()"></span>
		</h1>
		<div class="scrollContainer">
			<div data-dojo-type="dojox/mobile/ContentPane" class="scrollContent">
				<form id="wayPtForm">
					<label for="pointStyleDiv">Style: </label><div id="pointStyleDiv"></div><br/><br/>											
					<input id="wayPtInputTitle" maxlength="50" style='width:250px;max-width:96%;' required=true placeholder="Label" type="text"></input><br/>
					<textarea id="wayPtInputDesc" type="text" onkeyup='javascript:resizeTextBox(this)' maxlength="200" style="height: 80px; width:96%; resize:none;" placeholder="Description"></textarea>
					<p align="center"><input id="wayPtBtn" type="submit" class="mblButton" value="Add Way Point"/></p>
				</form>
			</div>
		</div>
	</div>

	<!-- Bookmark >
<div id="bookmarkPane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
	<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Bookmark"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
		<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="slideLeft(document.getElementById('bookmarkPane'));"></span>
	</h1>
	<div class="scrollContainer">
		<div data-dojo-type="dojox/mobile/ContentPane" class="scrollContent">
			To save your current way points and map extent in a bookmark:
			<ol>
			<li> Press 'Create Bookmark' button below.</li>
			<li> Wait for the page to reload.</li>
			<li> Use your browser's settings to add the bookmark.</li>
			</ol>
			<!-- getBookmark is in wayPoints.js -->
	<!--p align="center"><button  data-dojo-type="dojox/mobile/Button" role="presentation" type="button" onClick="getBookmark()" title="bookmark page">Create Bookmark</button></p>
			<span style="font-style:italic">Note: Bookmarks can only be created in your browser (Chrome, Safari, etc.). If you started this app from an icon on the home screen, it will run in 
			fullscreen mode and the settings icon will be hidden.</span>
		</div>
	</div>
</div-->

	<!-- Links -->
	<div id="linksPane" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox/mobile/Heading" data-dojo-props='fixed:"top", label:"Links"' style="background-color: whitesmoke;color:rgb(191, 197, 203);background-image: none;">
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="slideLeft(document.getElementById('linksPane'));"></span>
		</h1>
		<div class="scrollContainer">
			Links will open in a new window.<br/>
			<div id="links" data-dojo-type="dojox/mobile/ContentPane" class="scrollContent"></div>
		</div>
	</div>

	<!-- Error Box -->
	<div id="errorMsgBox" data-dojo-type="dojox/mobile/Overlay" style="min-height:25px;max-height:375px;overflow-y:auto;padding-top:5px;border-top:1px solid grey;background-image:none;background-color: white;">
		<div data-dojo-type="dojox/mobile/ContentPane" style="margin:5px;text-align:left;">
			<div id="errorMsg"></div>
			<div id="errorXbtn" style="float:right;display:none;position:absolute;right:1px;top:3px;">
				<a href="javascript:closeAlert();"><img src="https://js.arcgis.com/3.40compact/esri/dijit/images/whitex.png" class="btn" /></a>
			</div>
		</div>
	</div>

	<!-- Location Help -->
	<div id="locationHelp" data-dojo-type="dojox/mobile/ContentPane" class="scrollPane">
		<h1 data-dojo-type="dojox.mobile.Heading" data-dojo-props='fixed:"top", label:"Current Location Help"'>
			<span data-dojo-type="dojox/mobile/ToolBarButton" data-dojo-props='icon:"assets/images/leftarrow.png"' onclick="slideLeft(document.getElementById('locationHelp'));"></span>
		</h1>
		<div class="scrollContainer">
			<div data-dojo-type="dojox/mobile/ContentPane" class="scrollContent">
				If current location is not working try the following:
				<h3>Step 1: Turn on location services</h3>
				Make sure GPS/Location Service is turned on in your phone's settings.<br/>
				<h3>Step 2: Try going outside</h3>
				<h3>Step3: Reset location settings</h3>
				The first time you turn on Current Location you will be asked if you want to give the map access to your location. You can reset this choice by:<br/><br/> For Chrome browsers:<br/>
				<ol>
					<li>Touch the menu icon in the top-right corner of the screen.</li>
					<li>Touch <strong>Settings>Content Settings>Website Settings</strong> or <strong>Settings>Site settings>Location</strong>.</li>
					<li>Find
						<script>
							document.write(document.location.host)
						</script>.</li>
					<li>Allow location access.</li>
					<li>Reload the Atlas in Chrome and allow location access on the message that shows up.</li>
				</ol>
				For Safari browsers:<br/>
				<ol>
					<li>Goto your home screen.</li>
					<li>Touch <strong>Settings>Privacy>Location Services</strong></li>
					<li>Slide Location Services on.</li>
					<li>Reload Atlas in Safari and allow location access on the message that shows up.</li>
				</ol>
				<!--h3>Step 4: Secure Site</h3>
				Make sure you accessed this site with "https://". As of April 2016, geolocation requires a secure site.-->
			</div>
		</div>
	</div>

	<!-- Add Google Analytics 4 Stats for Test Site ndis-2020-dev -->
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-SPF3WKXMYJ"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		/* Custom Dimension Value to pass app name. Set this up in Google Analytics in Admin/Property/Custom Definitions/Custom Dimension/New Custom Dimension/
			give it a variable name to use on the reports, save it, view it again and it will generate the javascript below. */
		var theApp;
		if (document.location.search == "") theApp = "huntingatlas";
		else {
			var end = document.location.search.indexOf('&');
			if (end == -1) end = document.location.search.length;
			theApp = document.location.search.substring(5,end).toLowerCase();
		}
		gtag('js', new Date());
		gtag('config', 'G-SPF3WKXMYJ', {
			cookie_flags: 'max-age=7200;secure;samesite=none',
			'custom_map': {
				'dimension1': 'app_name',
				'dimension2': 'page_size',
				'dimension3': 'map_services',
				'dimension4': 'map_scale',
				'dimension5': 'map_type',
				'metric1': 'seconds',
				'metric2': 'mb'
			}
		});
		// Sends an event that passes app name as a parameter.
		gtag('event', 'pageview', {'app_name': theApp});
		
	</script>
	 <!-- End Google Analytics -->
	<!--script>
		/* Add Google Analytics Stats */
		(function(i, s, o, g, r, a, m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q = i[r].q || []).push(arguments)},i[r].l=1* new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		/* Create the ID for tracking and pass the app name for reporting */
		ga('create', 'UA-102394177-2', {
  		cookieFlags: 'max-age=7200;secure;samesite=none'
		});
		/* Custom Dimension Value to pass app name. Set this up in Google Analytics in Admin/Property/Custom Definitions/Custom Dimension/New Custom Dimension/
			give it a variable name to use on the reports, save it, view it again and it will generate the javascript below. */
		var theApp;
		if (document.location.search == "") theApp = "huntingatlas";
		else {
			var end = document.location.search.indexOf('&');
			if (end == -1) end = document.location.search.length;
			theApp = document.location.search.substring(5,end).toLowerCase();
		}
		ga('set', 'dimension1', theApp);
		ga('send', 'pageview');
		/* End Google Analytics Stats */
        </script-->
  </body>
</html>